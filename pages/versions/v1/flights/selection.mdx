# Querying Flights

Now that you have initiated a flight search; and, received a session public ID in response, you are ready to query and select individual flights.

## Query and Selection Order

### Flights Querying Order

> ðŸ§¨ It is important to keep in mind that not **all fares provided are combinable**. When querying bound 0 and selecting a fare and brand, querying bound 1 will only yield compatible results. Therefore, it is advised that you query each bound after selecting bounds prior to it to ensure compatibility of all results.

---

### Flights Selection Order

> ðŸ§¨ It is also important to note that **flight selection needs to happen in order**. If someone re-selects a bound, the following bounds will be de-selected.

## Querying Flights

`GET /flight/[sessionId]/bound/[boundIndex]`

This endpoint is used to query individual flights, where `[sessionId]` is the public session ID, and `[bound]` is the index of the bound being queried, starting from 0.

### Response

```json filename="GET /flight/[sessionId]/bound/[boundIndex]" copy
[
    {
        "airports": [
            {
                "airport_code": "YUL",
                "airport_name": "Montreal / Pierre Elliott Trudeau International Airport",
                "airport_city_name": "Montreal",
                "date_time": "2023-04-15 20:30:00",
                "flight_number": "772",
                "layover_time": ""
            },
            {
                "airport_code": "YVR",
                "airport_name": "Vancouver International Airport",
                "airport_city_name": "Vancouver",
                "date_time": "2023-04-15 23:15:00",
                "flight_number": "",
                "layover_time": ""
            }
        ],
        "sort_field": {
            "departure_date_time": "2023-04-15 20:30:00",
            "arrival_date_time": "2023-04-15 23:15:00",
            "airline": [
                "Air Transat"
            ],
            "stops": 0,
            "elapse_time": "5.45",
            "cheapest_price": 0,
            "alliances": [],
            "emission": 255.55
        },
        "segments": [
            {
                "departure_information": {
                    "airport_code": "YUL",
                    "airport_name": "Montreal / Pierre Elliott Trudeau International Airport",
                    "airport_city_name": "Montreal",
                    "date_time": "2023-04-15 20:30:00",
                    "terminal": null
                },
                "arrival_information": {
                    "airport_code": "YVR",
                    "airport_name": "Vancouver International Airport",
                    "airport_city_name": "Vancouver",
                    "date_time": "2023-04-15 23:15:00",
                    "terminal": "M"
                },
                "marketing_airline_information": {
                    "airline_code": "TS",
                    "airline_name": "Air Transat",
                    "flight_number": "772",
                    "alliance": null
                },
                "operating_airline_information": {
                    "airline_code": "TS",
                    "airline_name": "Air Transat",
                    "flight_number": "772",
                    "alliance": null
                },
                "additional_information": {
                    "equipment": {
                        "code": "32Q",
                        "name": "Airbus A321neo",
                        "graphic": null
                    },
                    "e_ticket": "true",
                    "mileage": "2295",
                    "flight_detail": {
                        "duration": "345"
                    }
                },
                "emission": 255.55,
                "distance": 2295
            }
        ],
        "brand_information": {
            "Y": {
                "economy budget": {
                    "price_information": {
                        "total_amount": 163.41,
                        "base_amount": 70,
                        "starting_fare_amount": 0,
                        "currency": "CAD",
                        "tax": {
                            "total_tax": 93.41,
                            "tax": [
                                {
                                    "amount": "7.11",
                                    "code": "XG",
                                    "description": "Goods And Services Tax (gst)"
                                },
                                {
                                    "amount": "35.00",
                                    "code": "SQ",
                                    "description": "Airport Improvement Fee (aif), (domestic/international)"
                                },
                                {
                                    "amount": "14.18",
                                    "code": "XQ",
                                    "description": "Quebec Sales Tax"
                                },
                                {
                                    "amount": "30.00",
                                    "code": "YQ",
                                    "description": "Airline Fuel And Insurance Surcharge"
                                },
                                {
                                    "amount": "7.12",
                                    "code": "CA",
                                    "description": "Air Travellers Security Charge (domestic/international)"
                                }
                            ]
                        },
                        "surcharge": {
                            "total_surcharge": 0,
                            "surcharge": []
                        },
                    },
                    "fare_information": {
                        "offerings": [
                            "Paid Alcoholic Drinks and Free Non-Alcoholic Drinks",
                            "On-demand Entertainment Available",
                            "Paid Light Meal",
                            "All Rows have Power/usb Available",
                            "255.55 KgCo2e total emissions"
                        ],
                        "discount": null,
                        "cabin_codes": [
                            {
                                "departure": "YUL",
                                "arrival": "YVR",
                                "cabinClass": "Y"
                            }
                        ],
                        "rewards": null,
                    },
                    "media_information": [],
                    "baggage_information": {
                        "free_baggages": [
                            {
                                "messages": [
                                    "Free 0 for segments "
                                ],
                                "charge": 0,
                                "piece": "0"
                            }
                        ],
                        "charged_baggages": [
                            {
                                "messages": [
                                    "UP TO 50 POUNDS/23 KILOGRAMS",
                                    "UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS"
                                ],
                                "charge": "40.00",
                                "piece": "1"
                            },
                            {
                                "messages": [
                                    "UP TO 50 POUNDS/23 KILOGRAMS",
                                    "UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS"
                                ],
                                "charge": "70.00",
                                "piece": "2"
                            },
                            {
                                "messages": [
                                    "UP TO 50 POUNDS/23 KILOGRAMS",
                                    "UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS"
                                ],
                                "charge": "225.00",
                                "piece": "3"
                            },
                            {
                                "messages": [
                                    "UP TO 50 POUNDS/23 KILOGRAMS",
                                    "UP TO 62 LINEAR INCHES/158 LINEAR CENTIMETERS"
                                ],
                                "charge": "225.00",
                                "piece": "3"
                            }
                        ]
                    },
                    "optional_information": {
                        "offer": {
                            "offer_id": null,
                            "offer_expiration": "2023-04-10T23:22:28.079883Z"
                        }
                    },
                    "excluded": false,
                    "expireAt": "2023-04-10T23:23:29.711Z",
                    "brand": "economy budget",
                    "cabin": "Y",
                    "createdAt": "2023-04-10T21:23:29.950Z",
                    "public": "9407ae91-625f-4e81-9188-584c979b744f",
                }
            },
            "PY": {
                "club standard": {
                    "price_information": {
                        "total_amount": 623.31,
                        "base_amount": 470,
                        "starting_fare_amount": 459.9,
                        "currency": "CAD",
                        "tax": {
                            "total_tax": 153.31,
                            "tax": [
                                {
                                    "amount": "27.11",
                                    "code": "XG",
                                    "description": "Goods And Services Tax (gst)"
                                },
                                {
                                    "amount": "35.00",
                                    "code": "SQ",
                                    "description": "Airport Improvement Fee (aif), (domestic/international)"
                                },
                                {
                                    "amount": "54.08",
                                    "code": "XQ",
                                    "description": "Quebec Sales Tax"
                                },
                                {
                                    "amount": "30.00",
                                    "code": "YQ",
                                    "description": "Airline Fuel And Insurance Surcharge"
                                },
                                {
                                    "amount": "7.12",
                                    "code": "CA",
                                    "description": "Air Travellers Security Charge (domestic/international)"
                                }
                            ]
                        },
                        "surcharge": {
                            "total_surcharge": 0,
                            "surcharge": []
                        }
                    },
                    "fare_information": {
                        "offerings": [
                            "Free Alcoholic Drinks and Free Non-Alcoholic Drinks",
                            "On-demand Entertainment Available",
                            "Free Premium Meal",
                            "All Rows have Power/usb Available",
                            "Fully refundable",
                            "2 checked bags free",
                            "383.325 KgCo2e total emissions"
                        ],
                        "discount": null,
                        "cabin_codes": [
                            {
                                "departure": "YUL",
                                "arrival": "YVR",
                                "cabinClass": "PY"
                            }
                        ],
                        "rewards": null
                    },
                    "media_information": [],
                    "baggage_information": {
                        "free_baggages": [
                            {
                                "messages": [
                                    "Free 2 for segments "
                                ],
                                "charge": 0,
                                "piece": "2"
                            }
                        ],
                        "charged_baggages": []
                    },
                    "optional_information": {
                        "offer": {
                            "offer_id": null,
                            "offer_expiration": "2023-04-10T23:22:28.079883Z"
                        }
                    },
                    "excluded": false,
                    "expireAt": "2023-04-10T23:23:29.711Z",
                    "brand": "club standard",
                    "cabin": "PY",
                    "createdAt": "2023-04-10T21:23:29.951Z",
                    "public": "21959f67-db5c-43b0-899a-f2b44dea25f3",
                },
                "club flex": {
                    "price_information": {
                        "total_amount": 1175.19,
                        "base_amount": 950,
                        "starting_fare_amount": 1011.78,
                        "currency": "CAD",
                        "tax": {
                            "total_tax": 225.19,
                            "tax": [
                                {
                                    "amount": "51.11",
                                    "code": "XG",
                                    "description": "Goods And Services Tax (gst)"
                                },
                                {
                                    "amount": "35.00",
                                    "code": "SQ",
                                    "description": "Airport Improvement Fee (aif), (domestic/international)"
                                },
                                {
                                    "amount": "101.96",
                                    "code": "XQ",
                                    "description": "Quebec Sales Tax"
                                },
                                {
                                    "amount": "30.00",
                                    "code": "YQ",
                                    "description": "Airline Fuel And Insurance Surcharge"
                                },
                                {
                                    "amount": "7.12",
                                    "code": "CA",
                                    "description": "Air Travellers Security Charge (domestic/international)"
                                }
                            ],
                        },
                        "surcharge": {
                            "total_surcharge": 0,
                            "surcharge": [],
                        },
                    },
                    "fare_information": {
                        "offerings": [
                            "Free Alcoholic Drinks and Free Non-Alcoholic Drinks",
                            "On-demand Entertainment Available",
                            "Free Premium Meal",
                            "All Rows have Power/usb Available",
                            "Fully refundable",
                            "2 checked bags free",
                            "383.325 KgCo2e total emissions"
                        ],
                        "discount": null,
                        "cabin_codes": [
                            {
                                "departure": "YUL",
                                "arrival": "YVR",
                                "cabinClass": "PY"
                            }
                        ],
                        "rewards": null
                    },
                    "media_information": [],
                    "baggage_information": {
                        "free_baggages": [
                            {
                                "messages": [
                                    "Free 2 for segments "
                                ],
                                "charge": 0,
                                "piece": "2"
                            }
                        ],
                        "charged_baggages": []
                    },
                    "optional_information": {
                        "offer": {
                            "offer_id": null,
                            "offer_expiration": "2023-04-10T23:22:28.079883Z"
                        }
                    },
                    "excluded": false,
                    "expireAt": "2023-04-10T23:23:29.711Z",
                    "brand": "club flex",
                    "cabin": "PY",
                    "createdAt": "2023-04-10T21:23:29.952Z",
                    "public": "8d504db7-544c-4679-93de-fdb88efe8e55",

                }
            }
        },
        "expireAt": "2023-04-10T23:23:29.711Z",
        "createdAt": "2023-04-10T21:23:36.239Z",
        "public": "eb02945c-f793-4c00-8053-edd756de4b15"
    },

```

- `public`: ([Public ID](/versions/v1/glossary#public-id)) The public ID of the flight. This will be used to select and retrieve the flight.
- `expireAt`: (`string`) The time in which the flight will expire. This will hold the same as the `expireAt` property of your [Session](/session#session-object).
- `airports`: ([Flight Airport Information](/versions/v1/glossary#flight-airport-information)) An array representing all of the airports visited.
- `sort_field`: (`Record`) An object containing general information about the flight.
  - `sort_field.departure_date_time`: (`string`) The date and time of the flight's departure.
  - `sort_field.arrival_date_time`: (`string`) The date and time of the flight's arrival.
  - `sort_field.airline`: (`Array<string>`) An array containing unique names of the airlines that are flying on this flight.
  - `sort_field.stops`: (number) The number of stops on this flight.
  - `sort_field.elapse_time`: (`string`) The length of the flight in `H.i` format.
  - `sort_field.alliance`: (`Array<string>`) An array containing unique names of the alliances that the airlines on this flight are a part of.
  - `emission`: (`number?`) The total amount of CO2 emitted by this flight in `KgCO2e` per passenger.
- `segments`: (`Array<Record>`) An array of objects representing the flight segments.
  - `segments[].departure_information`: ([Departure Arrival Information](/versions/v1/glossary#departure-arrival-information)) An object containing information about the departure and its airport.
  - `segments[].arrival_information`: ([Departure Arrival Information](/versions/v1/glossary#departure-arrival-information)) An object containing information about the arrival and its airport.
  - `segments[].marketing_airline_information`: ([Flight Airline Information](/versions/v1/glossary#flight-airline-information)) An object containing information about the airline marketing the fares.
  - `segments[].marketing_airline_information`: ([Flight Airline Information](/versions/v1/glossary#flight-airline-information)?) An object containing information about the airline operating the fares. Operating airline might not be present for fares that are operated by their marketing airline.
  - `segments[].additional_information`: (`Record`) An object containing additional information about the segment.
    - `segments[].additional_information.equipment`: ([Segment Equipment Information](/versions/v1/glossary#segment-equipment-information)?) An object containing information about the equipment used on this segment.
    - `segments[].additional_information.flight_detail`: (`Record?`) Object containing some additional information about the segment.
      - `segments[].additional_information.flight_detail.duration`: (`string?`) The duration of the flight in minutes.
      - `segments[].additional_information.flight_detail.stop_quantity`: (`number?`) the number of stops on this flight. This is not the same as the number of segments, as this is inside a segment. This is in case of a indirect flight.
  - `segments[].emission`: (`number?`) The total amount of CO2 emitted by this flight in `KgCO2e` per passenger.
  - `segments[].distance`: (`number?`) The distance of the flight in miles.
- `brand_information`: (`Record<`[Cabin Code](/versions/v1/glossary#cabin-code)`,` `Record<` [Brand Name](/versions/v1/glossary#brand-name) `,`[Brand Information](/versions/v1/glossary#flight-brand-information)`>` `>`) An object containing information about the brands available for each cabin.

  > ðŸ›Ž The `public` ID of the brand of choice will be necessary to select and retrieve the brand.

## Selecting a Flight

`POST /flight/[sessionId]/bound/[boundIndex]`

Once you have queried individual flights, you can select a flight.

This endpoint is used to select individual flights, where [sessionId] is the public session ID, and [bound] is the index of the bound being selected, starting from 0.

### Request

The body of the `POST` request should contain the following parameters:

```json copy
{
  "fare": "[flight public ID]",
  "brand": "[brand information public ID]"
}
```

> ðŸ§¨ It is important to note that flights must be selected in order. Re-selecting a flight will cause the following bounds to be unselected.

### Response

The response will look similar to an individual flight object, similar to the one returned in the original flight search response. However, the response will **only include the `brand_information` selected, rather than an object containing all brands available**.

```json filename="POST /flight/[sessionId]/bound/[boundIndex]" copy
{
  "airports": [
    {
      "airport_code": "YUL",
      "airport_name": "Montreal / Pierre Elliott Trudeau International Airport",
      "airport_city_name": "Montreal",
      "date_time": "2023-05-15 22:00:00",
      "flight_number": "8533",
      "layover_time": ""
    },
    {
      "airport_code": "YYC",
      "airport_name": "Calgary International Airport",
      "airport_city_name": "Calgary",
      "date_time": "2023-05-16 04:00:00",
      "flight_number": "8591",
      "layover_time": "03.30"
    },
    {
      "airport_code": "YVR",
      "airport_name": "Vancouver International Airport",
      "airport_city_name": "Vancouver",
      "date_time": "2023-05-16 04:05:00",
      "flight_number": "",
      "layover_time": ""
    }
  ],
  "sort_field": {
    "departure_date_time": "2023-05-15 22:00:00",
    "arrival_date_time": "2023-05-16 04:05:00",
    "airline": ["WestJet"],
    "stops": 1,
    "elapse_time": "9.05",
    "cheapest_price": 34.49,
    "alliances": [],
    "emission": 313.54
  },
  "segments": [
    {
      "departure_information": {
        "airport_code": "YUL",
        "airport_name": "Montreal / Pierre Elliott Trudeau International Airport",
        "airport_city_name": "Montreal",
        "date_time": "2023-05-15 22:00:00",
        "terminal": null
      },
      "arrival_information": {
        "airport_code": "YYC",
        "airport_name": "Calgary International Airport",
        "airport_city_name": "Calgary",
        "date_time": "2023-05-16 00:30:00",
        "terminal": null
      },
      "marketing_airline_information": {
        "airline_code": "WS",
        "airline_name": "WestJet",
        "flight_number": "8533",
        "alliance": null
      },
      "operating_airline_information": {
        "airline_code": "WS",
        "airline_name": "WestJet",
        "flight_number": "8533",
        "alliance": null
      },
      "additional_information": {
        "equipment": {
          "code": "73H",
          "name": "Boeing 737-800",
          "graphic": "https://bnwassets.s3.amazonaws.com/images/aircrafts/WS/73H.png"
        },
        "mileage": "1873",
        "flight_detail": {
          "duration": "270"
        }
      },
      "emission": 255.22,
      "distance": 1873
    },
    {
      "departure_information": {
        "airport_code": "YYC",
        "airport_name": "Calgary International Airport",
        "airport_city_name": "Calgary",
        "date_time": "2023-05-16 04:00:00",
        "terminal": null
      },
      "arrival_information": {
        "airport_code": "YVR",
        "airport_name": "Vancouver International Airport",
        "airport_city_name": "Vancouver",
        "date_time": "2023-05-16 04:05:00",
        "terminal": null
      },
      "marketing_airline_information": {
        "airline_code": "WS",
        "airline_name": "WestJet",
        "flight_number": "8591",
        "alliance": null
      },
      "operating_airline_information": {
        "airline_code": "WS",
        "airline_name": "WestJet",
        "flight_number": "8591",
        "alliance": null
      },
      "additional_information": {
        "equipment": {
          "code": "73H",
          "name": "Boeing 737-800",
          "graphic": "https://bnwassets.s3.amazonaws.com/images/aircrafts/WS/73H.png"
        },
        "mileage": "428",
        "flight_detail": {
          "duration": "65"
        }
      },
      "emission": 58.32,
      "distance": 428
    }
  ],
  "brand_information": {
    "price_information": {
      "total_amount": 191,
      "base_amount": 124,
      "starting_fare_amount": 34.49,
      "currency": "CAD",
      "tax": {
        "total_tax": 67,
        "tax": [
          {
            "amount": "8.31",
            "code": "XG",
            "description": "Goods And Services Tax (gst)"
          },
          {
            "amount": "35.00",
            "code": "SQ",
            "description": "Airport Improvement Fee (aif), (domestic/international)"
          },
          {
            "amount": "16.57",
            "code": "XQ",
            "description": "Quebec Sales Tax"
          },
          {
            "amount": "7.12",
            "code": "CA",
            "description": "Air Travellers Security Charge (domestic/international)"
          }
        ]
      },
      "surcharge": {
        "total_surcharge": 0,
        "surcharge": []
      }
    },
    "fare_information": {
      "offerings": ["313.54 KgCo2e total emissions"],
      "discount": null,
      "cabin_codes": [
        {
          "departure": "YUL",
          "arrival": "YYC",
          "cabinClass": "Y"
        },
        {
          "departure": "YYC",
          "arrival": "YVR",
          "cabinClass": "Y"
        }
      ],
      "rewards": null
    },
    "excluded": false,
    "expireAt": "2023-04-12T23:51:17.988Z",
    "createdAt": "2023-04-12T21:51:18.204Z",
    "public": "d692a169-f37f-49a6-91da-b94a43cce0cc"
  },
  "createdAt": "2023-04-12T21:51:22.513Z",
  "public": "a5e56c0d-681c-4253-b6bb-fd0d7b0795ae",
  "expireAt": "2023-04-12T23:51:17.988Z"
}
```
